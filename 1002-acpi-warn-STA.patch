From d832383a6c53c057bf8695799470ab0008756591 Mon Sep 17 00:00:00 2001
From: Arjan van de Ven <arjan@linux.intel.com>
Date: Sun, 14 May 2017 23:53:08 +0000
Subject: [PATCH 1002/1003] acpi: warn STA

---
 drivers/acpi/utils.c | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/drivers/acpi/utils.c b/drivers/acpi/utils.c
index 20d4c1ee8a15..b1222852c7dc 100644
--- a/drivers/acpi/utils.c
+++ b/drivers/acpi/utils.c
@@ -287,6 +287,7 @@ acpi_evaluate_integer(acpi_handle handle,
 		      struct acpi_object_list *arguments, unsigned long long *data)
 {
 	acpi_status status = AE_OK;
+	static int counter;
 	union acpi_object element;
 	struct acpi_buffer buffer = { 0, NULL };
 	struct acpi_namespace_node *node;
@@ -320,6 +321,11 @@ acpi_evaluate_integer(acpi_handle handle,
 		node->cached_ADR = element.integer.value;
 	}
 
+	if (strcmp(pathname, "_STA") == 0) {
+		if ((counter++ % 50) == 0)
+			WARN_ON(1);
+	}
+
 	ACPI_DEBUG_PRINT((ACPI_DB_INFO, "Return value [%llu]\n", *data));
 
 	return AE_OK;
-- 
2.13.2

